{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/layout/common/quick-chat/quick-chat.service\";\nimport * as i2 from \"@angular/cdk/overlay\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@fuse/directives/scrollbar/scrollbar.directive\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nconst _c0 = [\"messageInput\"];\nfunction QuickChatComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵelementStart(2, \"div\", 13);\n    i0.ɵɵelement(3, \"mat-icon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15);\n    i0.ɵɵtext(5, \"Team Chat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 16);\n    i0.ɵɵelement(7, \"mat-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:chat-alt-2\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:x\");\n  }\n}\nfunction QuickChatComponent_ng_container_4_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r8.chat.contact.avatar, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction QuickChatComponent_ng_container_4_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.chat.contact.name.charAt(0), \" \");\n  }\n}\nfunction QuickChatComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵtemplate(3, QuickChatComponent_ng_container_4_ng_container_3_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(4, QuickChatComponent_ng_container_4_ng_container_4_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 16);\n    i0.ɵɵelement(8, \"mat-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.chat.contact.avatar);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.chat.contact.avatar);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.chat.contact.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:x\");\n  }\n}\nfunction QuickChatComponent_ng_container_8_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 25);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const chat_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"ring-primary-50\", ctx_r11.selectedChat && ctx_r11.selectedChat.id === chat_r10.id);\n  }\n}\nfunction QuickChatComponent_ng_container_8_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const chat_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", chat_r10.contact.avatar, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction QuickChatComponent_ng_container_8_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const chat_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", chat_r10.contact.name.charAt(0), \" \");\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"hover:bg-gray-100 dark:hover:bg-hover\": a0,\n    \"bg-primary-50 dark:bg-hover\": a1\n  };\n};\nfunction QuickChatComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function QuickChatComponent_ng_container_8_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const chat_r10 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.selectChat(chat_r10.id);\n    });\n    i0.ɵɵelementStart(2, \"div\", 24);\n    i0.ɵɵtemplate(3, QuickChatComponent_ng_container_8_ng_container_3_Template, 2, 2, \"ng-container\", 3);\n    i0.ɵɵtemplate(4, QuickChatComponent_ng_container_8_ng_container_4_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(5, QuickChatComponent_ng_container_8_ng_container_5_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const chat_r10 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, !ctx_r2.selectedChat || ctx_r2.selectedChat.id !== chat_r10.id, ctx_r2.selectedChat && ctx_r2.selectedChat.id === chat_r10.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", chat_r10.unreadCount > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", chat_r10.contact.avatar);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !chat_r10.contact.avatar);\n  }\n}\nfunction QuickChatComponent_ng_container_10_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 38);\n    i0.ɵɵelement(2, \"div\", 39);\n    i0.ɵɵelementStart(3, \"div\", 40);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"div\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 1, message_r21.createdAt, \"longDate\"), \" \");\n  }\n}\nfunction QuickChatComponent_ng_container_10_ng_container_3_ng_container_6_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c2 = function (a0, a1) {\n  return {\n    \"text-blue-500 -right-1 -mr-px mb-px\": a0,\n    \"text-gray-500 -left-1 -ml-px mb-px -scale-x-1\": a1\n  };\n};\nfunction QuickChatComponent_ng_container_10_ng_container_3_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 41);\n    i0.ɵɵtemplate(2, QuickChatComponent_ng_container_10_ng_container_3_ng_container_6_ng_container_2_Template, 1, 0, \"ng-container\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵnextContext(2);\n    const _r6 = i0.ɵɵreference(14);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c2, message_r21.isMine, !message_r21.isMine));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r6);\n  }\n}\nconst _c3 = function (a0, a1) {\n  return {\n    \"mr-3\": a0,\n    \"ml-3\": a1\n  };\n};\nfunction QuickChatComponent_ng_container_10_ng_container_3_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 43);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c3, message_r21.isMine, !message_r21.isMine));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 2, message_r21.createdAt, \"HH:mm\"), \" \");\n  }\n}\nconst _c4 = function (a0, a1, a2, a3) {\n  return {\n    \"items-end\": a0,\n    \"items-start\": a1,\n    \"mt-0.5\": a2,\n    \"mt-3\": a3\n  };\n};\nconst _c5 = function (a0, a1) {\n  return {\n    \"bg-blue-500 text-blue-50\": a0,\n    \"bg-gray-500 text-gray-50\": a1\n  };\n};\nfunction QuickChatComponent_ng_container_10_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, QuickChatComponent_ng_container_10_ng_container_3_ng_container_1_Template, 7, 4, \"ng-container\", 3);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementStart(4, \"div\", 35);\n    i0.ɵɵelementStart(5, \"div\", 36);\n    i0.ɵɵtemplate(6, QuickChatComponent_ng_container_10_ng_container_3_ng_container_6_Template, 3, 5, \"ng-container\", 3);\n    i0.ɵɵelement(7, \"div\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, QuickChatComponent_ng_container_10_ng_container_3_ng_container_8_Template, 4, 8, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r21 = ctx.$implicit;\n    const i_r22 = ctx.index;\n    const first_r23 = ctx.first;\n    const last_r24 = ctx.last;\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", first_r23 || i0.ɵɵpipeBind2(2, 6, ctx_r19.chat.messages[i_r22 - 1].createdAt, \"d\") !== i0.ɵɵpipeBind2(3, 9, message_r21.createdAt, \"d\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(12, _c4, message_r21.isMine, !message_r21.isMine, i_r22 > 0 && ctx_r19.chat.messages[i_r22 - 1].isMine === message_r21.isMine, i_r22 > 0 && ctx_r19.chat.messages[i_r22 - 1].isMine !== message_r21.isMine));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c5, message_r21.isMine, !message_r21.isMine));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", last_r24 || ctx_r19.chat.messages[i_r22 + 1].isMine !== message_r21.isMine);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", message_r21.value, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", first_r23 || last_r24 || ctx_r19.chat.messages[i_r22 + 1].isMine !== message_r21.isMine || ctx_r19.chat.messages[i_r22 + 1].createdAt !== message_r21.createdAt);\n  }\n}\nfunction QuickChatComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 26);\n    i0.ɵɵelementStart(2, \"div\", 27);\n    i0.ɵɵtemplate(3, QuickChatComponent_ng_container_10_ng_container_3_Template, 9, 20, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵelementStart(5, \"mat-form-field\", 29);\n    i0.ɵɵelement(6, \"textarea\", 30, 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 32);\n    i0.ɵɵelementStart(9, \"button\", 33);\n    i0.ɵɵelement(10, \"mat-icon\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.chat.messages)(\"ngForTrackBy\", ctx_r3.trackByFn);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"rows\", 1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:paper-airplane\");\n  }\n}\nfunction QuickChatComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelement(1, \"mat-icon\", 45);\n    i0.ɵɵelementStart(2, \"div\", 46);\n    i0.ɵɵtext(3, \"Select a conversation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"svgIcon\", \"iconsmind:speach_bubble\");\n  }\n}\nfunction QuickChatComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 47);\n    i0.ɵɵelementStart(1, \"g\", 48);\n    i0.ɵɵelement(2, \"path\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c6 = function (a0, a1) {\n  return {\n    \"-translate-x-full sm:-translate-x-96 lg:-translate-x-80 shadow\": a0,\n    \"translate-x-0\": a1\n  };\n};\nconst _c7 = function () {\n  return {\n    wheelPropagation: false\n  };\n};\nexport let QuickChatComponent = /*#__PURE__*/(() => {\n  class QuickChatComponent {\n    /**\r\n     * Constructor\r\n     */\n    constructor(_elementRef, _renderer2, _ngZone, _quickChatService, _scrollStrategyOptions) {\n      this._elementRef = _elementRef;\n      this._renderer2 = _renderer2;\n      this._ngZone = _ngZone;\n      this._quickChatService = _quickChatService;\n      this._scrollStrategyOptions = _scrollStrategyOptions;\n      this.opened = false;\n      this._scrollStrategy = this._scrollStrategyOptions.block();\n      this._unsubscribeAll = new Subject();\n    }\n    // -----------------------------------------------------------------------------------------------------\n    // @ Decorated methods\n    // -----------------------------------------------------------------------------------------------------\n    /**\r\n     * Host binding for component classes\r\n     */\n    get classList() {\n      return {\n        'quick-chat-opened': this.opened\n      };\n    }\n    /**\r\n     * Resize on 'input' and 'ngModelChange' events\r\n     *\r\n     * @private\r\n     */\n    _resizeMessageInput() {\n      // This doesn't need to trigger Angular's change detection by itself\n      this._ngZone.runOutsideAngular(() => {\n        setTimeout(() => {\n          // Set the height to 'auto' so we can correctly read the scrollHeight\n          this.messageInput.nativeElement.style.height = 'auto';\n          // Get the scrollHeight and subtract the vertical padding\n          this.messageInput.nativeElement.style.height = `${this.messageInput.nativeElement.scrollHeight}px`;\n        });\n      });\n    }\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n    /**\r\n     * On init\r\n     */\n    ngOnInit() {\n      // Chat\n      this._quickChatService.chat$.pipe(takeUntil(this._unsubscribeAll)).subscribe(chat => {\n        this.chat = chat;\n      });\n      // Chats\n      this._quickChatService.chats$.pipe(takeUntil(this._unsubscribeAll)).subscribe(chats => {\n        this.chats = chats;\n      });\n      // Selected chat\n      this._quickChatService.chat$.pipe(takeUntil(this._unsubscribeAll)).subscribe(chat => {\n        this.selectedChat = chat;\n      });\n    }\n    /**\r\n     * On destroy\r\n     */\n    ngOnDestroy() {\n      // Unsubscribe from all subscriptions\n      this._unsubscribeAll.next();\n      this._unsubscribeAll.complete();\n    }\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n    /**\r\n     * Open the panel\r\n     */\n    open() {\n      // Return if the panel has already opened\n      if (this.opened) {\n        return;\n      }\n      // Open the panel\n      this._toggleOpened(true);\n    }\n    /**\r\n     * Close the panel\r\n     */\n    close() {\n      // Return if the panel has already closed\n      if (!this.opened) {\n        return;\n      }\n      // Close the panel\n      this._toggleOpened(false);\n    }\n    /**\r\n     * Toggle the panel\r\n     */\n    toggle() {\n      if (this.opened) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n    /**\r\n     * Select the chat\r\n     *\r\n     * @param id\r\n     */\n    selectChat(id) {\n      // Open the panel\n      this._toggleOpened(true);\n      // Get the chat data\n      this._quickChatService.getChatById(id).subscribe();\n    }\n    /**\r\n     * Track by function for ngFor loops\r\n     *\r\n     * @param index\r\n     * @param item\r\n     */\n    trackByFn(index, item) {\n      return item.id || index;\n    }\n    // -----------------------------------------------------------------------------------------------------\n    // @ Private methods\n    // -----------------------------------------------------------------------------------------------------\n    /**\r\n     * Show the backdrop\r\n     *\r\n     * @private\r\n     */\n    _showOverlay() {\n      // Try hiding the overlay in case there is one already opened\n      this._hideOverlay();\n      // Create the backdrop element\n      this._overlay = this._renderer2.createElement('div');\n      // Return if overlay couldn't be create for some reason\n      if (!this._overlay) {\n        return;\n      }\n      // Add a class to the backdrop element\n      this._overlay.classList.add('quick-chat-overlay');\n      // Append the backdrop to the parent of the panel\n      this._renderer2.appendChild(this._elementRef.nativeElement.parentElement, this._overlay);\n      // Enable block scroll strategy\n      this._scrollStrategy.enable();\n      // Add an event listener to the overlay\n      this._overlay.addEventListener('click', () => {\n        this.close();\n      });\n    }\n    /**\r\n     * Hide the backdrop\r\n     *\r\n     * @private\r\n     */\n    _hideOverlay() {\n      if (!this._overlay) {\n        return;\n      }\n      // If the backdrop still exists...\n      if (this._overlay) {\n        // Remove the backdrop\n        this._overlay.parentNode.removeChild(this._overlay);\n        this._overlay = null;\n      }\n      // Disable block scroll strategy\n      this._scrollStrategy.disable();\n    }\n    /**\r\n     * Open/close the panel\r\n     *\r\n     * @param open\r\n     * @private\r\n     */\n    _toggleOpened(open) {\n      // Set the opened\n      this.opened = open;\n      // If the panel opens, show the overlay\n      if (open) {\n        this._showOverlay();\n      }\n      // Otherwise, hide the overlay\n      else {\n        this._hideOverlay();\n      }\n    }\n  }\n  QuickChatComponent.ɵfac = function QuickChatComponent_Factory(t) {\n    return new (t || QuickChatComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1.QuickChatService), i0.ɵɵdirectiveInject(i2.ScrollStrategyOptions));\n  };\n  QuickChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: QuickChatComponent,\n    selectors: [[\"quick-chat\"]],\n    viewQuery: function QuickChatComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageInput = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function QuickChatComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"input\", function QuickChatComponent_input_HostBindingHandler() {\n          return ctx._resizeMessageInput();\n        })(\"ngModelChange\", function QuickChatComponent_ngModelChange_HostBindingHandler() {\n          return ctx._resizeMessageInput();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.classList);\n      }\n    },\n    exportAs: [\"quickChat\"],\n    decls: 15,\n    vars: 12,\n    consts: [[1, \"fixed\", \"lg:sticky\", \"top-0\", \"bottom-0\", \"lg:left-full\", \"w-full\", \"sm:w-96\", \"lg:w-16\", \"lg:h-screen\", \"lg:shadow\"], [1, \"flex\", \"flex-col\", \"w-full\", \"sm:w-96\", \"h-full\", \"transform\", \"transition-transform\", \"duration-400\", \"ease-drawer\", \"bg-card\", 3, \"ngClass\"], [1, \"quick-chat-header\", \"flex\", \"flex-0\", \"items-center\", \"justify-start\", \"cursor-pointer\", 3, \"click\"], [4, \"ngIf\"], [1, \"flex\", \"flex-auto\", \"border-t\", \"overflow-hidden\"], [\"fuseScrollbar\", \"\", 1, \"flex-0\", \"w-16\", \"h-full\", \"overflow-y-auto\", \"overscroll-y-contain\", \"sm:overflow-hidden\", \"sm:overscroll-auto\", 3, \"fuseScrollbarOptions\"], [1, \"flex-auto\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"flex\", \"flex-col\", \"flex-auto\", \"border-l\", \"overflow-hidden\", \"bg-gray-50\", \"dark:bg-transparent\"], [4, \"ngIf\", \"ngIfElse\"], [\"selectChatOrStartNew\", \"\"], [\"speechBubbleExtension\", \"\"], [1, \"flex\", \"flex-auto\", \"items-center\", \"justify-center\"], [1, \"flex\", \"flex-0\", \"items-center\", \"justify-center\", \"w-16\"], [1, \"icon-size-6\", 3, \"svgIcon\"], [1, \"text-lg\", \"font-medium\", \"text-secondary\"], [\"mat-icon-button\", \"\", 1, \"ml-auto\", \"mr-4\"], [3, \"svgIcon\"], [1, \"flex\", \"flex-auto\", \"items-center\", \"ml-3\"], [1, \"relative\", \"flex\", \"flex-0\", \"items-center\", \"justify-center\", \"w-10\", \"h-10\"], [1, \"ml-4\", \"text-lg\", \"font-medium\", \"leading-5\", \"truncate\"], [\"alt\", \"Contact avatar\", 1, \"w-full\", \"h-full\", \"rounded-full\", \"object-cover\", 3, \"src\"], [1, \"flex\", \"items-center\", \"justify-center\", \"w-full\", \"h-full\", \"rounded-full\", \"text-lg\", \"uppercase\", \"bg-gray-200\", \"text-gray-600\", \"dark:bg-gray-700\", \"dark:text-gray-200\"], [1, \"flex\", \"items-center\", \"py-3\", \"px-4\", \"cursor-pointer\", 3, \"ngClass\", \"click\"], [1, \"relative\", \"flex\", \"flex-0\", \"items-center\", \"justify-center\", \"w-8\", \"h-8\"], [1, \"absolute\", \"bottom-0\", \"right-0\", \"flex-0\", \"w-2\", \"h-2\", \"-ml-0.5\", \"rounded-full\", \"ring-2\", \"ring-bg-card\", \"dark:ring-gray-900\", \"bg-primary\", \"dark:bg-primary-500\", \"text-on-primary\"], [1, \"flex\", \"flex-col-reverse\", \"overflow-y-auto\", \"overscroll-y-contain\"], [1, \"flex\", \"flex-col\", \"flex-auto\", \"flex-shrink\", \"p-6\"], [1, \"flex\", \"items-end\", \"p-4\", \"border-t\", \"bg-gray-50\", \"dark:bg-transparent\"], [1, \"fuse-mat-dense\", \"fuse-mat-no-subscript\", \"fuse-mat-rounded\", \"fuse-mat-bold\", \"w-full\"], [\"matInput\", \"\", 1, \"min-h-5\", \"my-0\", \"resize-none\", 2, \"margin\", \"11px 0 !important\", \"padding\", \"0 !important\", 3, \"rows\"], [\"messageInput\", \"\"], [1, \"flex\", \"items-center\", \"h-11\", \"my-px\", \"ml-4\"], [\"mat-icon-button\", \"\"], [1, \"transform\", \"rotate-90\", 3, \"svgIcon\"], [1, \"flex\", \"flex-col\", 3, \"ngClass\"], [1, \"relative\", \"max-w-3/4\", \"px-3\", \"py-2\", \"rounded-lg\", 3, \"ngClass\"], [1, \"min-w-4\", \"leading-5\", 3, \"innerHTML\"], [1, \"flex\", \"items-center\", \"justify-center\", \"my-3\", \"-mx-6\"], [1, \"flex-auto\", \"border-b\"], [1, \"flex-0\", \"mx-4\", \"text-sm\", \"font-medium\", \"leading-5\", \"text-secondary\"], [1, \"absolute\", \"bottom-0\", \"w-3\", \"transform\", 3, \"ngClass\"], [4, \"ngTemplateOutlet\"], [1, \"my-0.5\", \"text-sm\", \"font-medium\", \"text-secondary\", 3, \"ngClass\"], [1, \"flex\", \"flex-col\", \"flex-auto\", \"items-center\", \"justify-center\", \"w-full\", \"h-full\", \"p-4\"], [1, \"icon-size-20\", 3, \"svgIcon\"], [1, \"mt-4\", \"text-xl\", \"text-center\", \"font-medium\", \"tracking-tight\", \"text-secondary\"], [\"width\", \"100%\", \"height\", \"100%\", \"viewBox\", \"0 0 66 66\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"id\", \"Page-1\", \"stroke\", \"none\", \"stroke-width\", \"1\", \"fill\", \"none\", \"fill-rule\", \"evenodd\"], [\"d\", \"M1.01522827,0.516204834 C-8.83532715,54.3062744 61.7609863,70.5215302 64.8009949,64.3061218 C68.8074951,54.8859711 30.1663208,52.9997559 37.5036011,0.516204834 L1.01522827,0.516204834 Z\", \"fill\", \"currentColor\", \"fill-rule\", \"nonzero\"]],\n    template: function QuickChatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵlistener(\"click\", function QuickChatComponent_Template_div_click_2_listener() {\n          return ctx.toggle();\n        });\n        i0.ɵɵtemplate(3, QuickChatComponent_ng_container_3_Template, 8, 2, \"ng-container\", 3);\n        i0.ɵɵtemplate(4, QuickChatComponent_ng_container_4_Template, 9, 4, \"ng-container\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, QuickChatComponent_ng_container_8_Template, 6, 7, \"ng-container\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵtemplate(10, QuickChatComponent_ng_container_10_Template, 11, 4, \"ng-container\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, QuickChatComponent_ng_template_11_Template, 4, 1, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(13, QuickChatComponent_ng_template_13_Template, 3, 0, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r4 = i0.ɵɵreference(12);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c6, ctx.opened, !ctx.opened));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.opened || ctx.opened && !ctx.selectedChat);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.opened && ctx.selectedChat);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"fuseScrollbarOptions\", i0.ɵɵpureFunction0(11, _c7));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.chats)(\"ngForTrackBy\", ctx.trackByFn);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.chat)(\"ngIfElse\", _r4);\n      }\n    },\n    directives: [i3.NgClass, i3.NgIf, i4.FuseScrollbarDirective, i3.NgForOf, i5.MatIcon, i6.MatButton, i7.MatFormField, i8.MatInput, i3.NgTemplateOutlet],\n    pipes: [i3.DatePipe],\n    styles: [\"quick-chat{z-index:399}quick-chat>div{overflow:hidden}quick-chat.quick-chat-opened>div{overflow:visible}quick-chat:not(.quick-chat-opened)>div{overflow:visible;animation:addOverflowHidden 1ms linear .4s;animation-fill-mode:forwards}.quick-chat-header{height:64px}enterprise-layout .quick-chat-header,modern-layout .quick-chat-header{height:80px!important}.quick-chat-overlay{position:fixed;top:0;bottom:0;left:0;right:0;z-index:299;opacity:1;background-color:transparent}@keyframes addOverflowHidden{0%{overflow:visible}99%{overflow:visible}to{overflow:hidden}}\\n\"],\n    encapsulation: 2\n  });\n  return QuickChatComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}